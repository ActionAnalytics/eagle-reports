[{"$project":{"performedBy":"$performedBy","timestamp~~~day":{"$let":{"vars":{"column":"$timestamp"},"in":{"___date":{"$dateToString":{"format":"%Y-%m-%d","date":"$$column"}}}}},"action":"$action"}},{"$match":{"$and":[{"performedBy":{"$ne":"public"}},{"timestamp~~~day":{"$gte":{"___date":"2019-07-30"},"$lte":{"___date":"2019-08-13"}}},{"action":{"$ne":"get"}},{"action":{"$ne":"search"}},{"action":{"$ne":"summary"}},{"action":{"$ne":"Get"}},{"action":{"$ne":"Search"}},{"action":{"$ne":"Summary"}},{"performedBy":{"$ne":null}}]}},{"$project":{"_id":"$_id","___group":{"performedBy":"$performedBy"}}},{"$group":{"_id":"$___group","count":{"$sum":1}}},{"$sort":{"_id":1}},{"$project":{"_id":false,"performedBy":"$_id.performedBy","count":true}},{"$sort":{"count":-1,"performedBy":1}}]